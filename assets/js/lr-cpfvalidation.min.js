var Objcpf = document.getElementById("validatecpf");

function ValidatesCPF(Objcpf){
    if(Objcpf.value.length > 0){
        var cpf = Objcpf.value;
        exp = /\.|\-/g
        cpf = cpf.toString().replace( exp, "" );
        var typedDigit = eval(cpf.charAt(9)+cpf.charAt(10));
        var sum1=0;
        var sum2=0;
        var vle =11;

        for(i=0;i<10;i++){
            if(vle < 11){
                sum1+=eval(cpf.charAt(i-1)*(vle));
            }
            
            sum2+=eval(cpf.charAt(i)*vle);
            vle--;
        }
        
        if(((sum1*10)%11)==10){
            sum1 = 0;
        }else{
            if(((sum1*10)%11)==11){
                sum1 = 0;
            }else{
                sum1 = ((sum1*10)%11);
            }
        }
        
        if(((sum2*10)%11)==10){
            sum2 = 0;
        }else{
            if(((sum2*10)%11)==11){
                sum2 = 0;
            }else{
                sum2 = ((sum2*10)%11);
            }
        }

        var generatedDigit=(sum1*10)+sum2;
        
		if(Objcpf.value.length < 14){
			Objcpf.setCustomValidity("CPF deve conter 11 dígitos!");
		}else{
			if(cpf == '00000000000' ||
               cpf == '11111111111' ||
               cpf == '22222222222' ||
               cpf == '33333333333' ||
               cpf == '44444444444' ||
               cpf == '55555555555' ||
               cpf == '66666666666' ||
               cpf == '77777777777' ||
               cpf == '88888888888' ||
               cpf == '99999999999'){
				Objcpf.setCustomValidity("CPF inválido!");
			} else{
				if(generatedDigit!=typedDigit){       
					Objcpf.setCustomValidity("CPF inválido!");
				} else {
					Objcpf.setCustomValidity('');
				}
			}
		}       
    }    
}

Objcpf.onchange = ValidatesCPF;